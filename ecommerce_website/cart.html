<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>User &ndash; Cart</title>
    <meta name="description" content="description" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/logo.svg" />
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/css/plugins.css" />
    <!-- Bootstap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <!-- Main Style CSS -->
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
  </head>
  <body class="page-template belle">
    <div class="pageWrapper">
      <!--Top Header-->
      <div class="top-header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-10 col-sm-8 col-md-5 col-lg-4"></div>
            <div
              class="
                col-sm-4 col-md-4 col-lg-4
                d-none d-lg-none d-md-block d-lg-block
              "
            ></div>
            <div class="col-2 col-sm-4 col-md-3 col-lg-4 text-right">
              <span class="user-menu d-block d-lg-none"
                ><i class="anm anm-user-al" aria-hidden="true"></i
              ></span>
              <ul class="customer-links list-inline">
                <li><a href="php/logout.php">Logout</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!--End Top Header-->
      <!--Header-->
      <div class="header-wrap animated d-flex">
        <div class="container-fluid">
          <div class="row align-items-center">
            <!--Desktop Logo-->
            <div class="logo col-md-2 col-lg-2 d-none d-lg-block">
              <a href="index.html">
                <img
                  src="assets/images/logo.svg"
                  alt="Belle Multipurpose Html Template"
                  title="Belle Multipurpose Html Template"
                />
              </a>
            </div>
            <!--End Desktop Logo-->
            <div class="col-2 col-sm-3 col-md-3 col-lg-8">
              <div class="d-block d-lg-none">
                <button
                  type="button"
                  class="
                    btn--link
                    site-header__menu
                    js-mobile-nav-toggle
                    mobile-nav--open
                  "
                >
                  <i class="icon anm anm-times-l"></i>
                  <i class="anm anm-bars-r"></i>
                </button>
              </div>
              <!--Desktop Menu-->
              <nav class="grid__item" id="AccessibleNav">
                <!-- for mobile -->
                <ul id="siteNav" class="site-nav medium center hidearrow">
                  <li class="lvl1 parent megamenu">
                    <a href="index.html"
                      >Home <i class="anm anm-angle-down-l"></i
                    ></a>
                  </li>
                  <li class="lvl1 parent megamenu">
                    <a href="stores.html"
                      >Stores <i class="anm anm-angle-down-l"></i
                    ></a>
                  </li>
                </ul>
              </nav>
              <!--End Desktop Menu-->
            </div>
            <div
              class="
                col-6 col-sm-6 col-md-6 col-lg-2
                d-block d-lg-none
                mobile-logo
              "
            >
              <div class="logo">
                <a href="index.html">
                  <img
                    src="assets/images/logo.svg"
                    alt="Belle Multipurpose Html Template"
                    title="Belle Multipurpose Html Template"
                  />
                </a>
              </div>
            </div>
            <div class="col-4 col-sm-3 col-md-3 col-lg-2">
              <div class="site-cart">
                <a href="cart.html" class="site-header__cart" title="Cart">
                  <i class="icon anm anm-bag-l"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--End Header-->
      <!--Mobile Menu-->
      <div class="mobile-nav-wrapper" role="navigation">
        <div class="closemobileMenu">
          <i class="icon anm anm-times-l pull-right"></i> Close Menu
        </div>
        <ul id="MobileNav" class="mobile-nav">
          <li class="lvl1 parent megamenu">
            <a href="index.html">Home</a>
          </li>
          <li class="lvl1 parent megamenu">
            <a href="stores.html">Stores</a>
          </li>
        </ul>
      </div>
      <!--End Mobile Menu-->

      <!--Body Content-->
      <div id="page-content">
        <!--Page Title-->
        <div class="page section-header text-center">
          <div class="page-title">
            <div class="wrapper"><h1 class="page-width">Your cart</h1></div>
          </div>
        </div>
        <!--End Page Title-->

        <div class="container">
          <div class="row">
            <div class="col-12 col-sm-12 col-md-8 col-lg-8 main-col">
              <form action="#" method="post" class="cart style2">
                <table>
                  <thead class="cart__row cart__header">
                    <tr>
                      <th colspan="2" class="text-center">Product</th>
                      <th class="text-center">Price</th>
                      <th class="action">&nbsp;</th>
                    </tr>
                  </thead>
                  <tbody id="cartContainer"></tbody>
                  <tfoot>
                    <tr>
                      <td colspan="3" class="text-left">
                        <a href="stores.html" class="btn--link cart-continue"
                          ><i class="icon icon-arrow-circle-left"></i> Continue
                          shopping</a
                        >
                      </td>
                    </tr>
                  </tfoot>
                </table>

                <hr />
              </form>
            </div>
            <div class="col-12 col-sm-12 col-md-4 col-lg-4 cart__footer">
              <div class="cart-note">
                <div class="solid-border">
                  <h5>
                    <label
                      for="CartSpecialInstructions"
                      class="cart-note__label small--text-center"
                      >Add a note to your order</label
                    >
                  </h5>
                  <textarea
                    name="note"
                    id="CartSpecialInstructions"
                    class="cart-note__input"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="alert-popup-custom hide" id="responsePopup">
          <p>Added</p>
        </div>
      </div>
      <!--End Body Content-->

      <!--Footer-->
      <footer id="footer">
        <div class="site-footer">
          <div class="container">
            <!--Footer Links-->
            <div class="footer-top">
              <div class="row">
                <div class="col-12 col-sm-12 col-md-3 col-lg-3 contact-box">
                  <h4 class="h4">Contact Us</h4>
                  <ul class="addressFooter">
                    <li class="email">
                      <i class="icon anm anm-envelope-l"></i>
                      <p>ghyathnour@gmail.com</p>
                    </li>
                    <li class="email">
                      <i class="icon fa fa-github"></i>
                      <p>GNour</p>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!--End Footer Links-->
            <hr />
            <div class="footer-bottom">
              <div class="row">
                <!--Footer Copyright-->
                <div
                  class="
                    col-12 col-sm-12 col-md-6 col-lg-6
                    order-1 order-md-0 order-lg-0 order-sm-1
                    copyright
                    text-sm-center text-md-left text-lg-left
                  "
                >
                  <span>Template used:</span>
                  <a
                    href="https://www.templateshub.net/template/belle-multipurpose-bootstrap-html-template"
                    >Belle Multipurpose Bootstrap 4 HTML Template</a
                  >
                </div>
                <!--End Footer Copyright-->
                <!--Footer Payment Icon-->
                <div
                  class="
                    col-12 col-sm-12 col-md-6 col-lg-6
                    order-0 order-md-1 order-lg-1 order-sm-0
                    payment-icons
                    text-right text-md-center
                  "
                >
                  <p>Created By: Ghyath Noureddine</p>
                </div>
                <!--End Footer Payment Icon-->
              </div>
            </div>
          </div>
        </div>
      </footer>
      <!--End Footer-->
      <!--Scoll Top-->
      <span id="site-scroll"><i class="icon anm anm-angle-up-r"></i></span>
      <!--End Scoll Top-->

      <!-- Including Jquery -->
      <script src="assets/js/vendor/jquery-3.3.1.min.js"></script>
      <script src="assets/js/vendor/jquery.cookie.js"></script>
      <script src="assets/js/vendor/modernizr-3.6.0.min.js"></script>
      <script src="assets/js/vendor/wow.min.js"></script>
      <!-- Including Javascript -->
      <script src="assets/js/bootstrap.min.js"></script>
      <script src="assets/js/plugins.js"></script>
      <script src="assets/js/popper.min.js"></script>
      <script src="assets/js/lazysizes.js"></script>
      <script src="assets/js/main.js"></script>

      <script>
        $(function () {
          var products;
          var cartContainer = $("#cartContainer");
          $.ajax({
            url: "php/getCart.php",
            type: "GET",
            dataType: "json",
            succes: function (response) {},
            complete: function (response) {
              products = response.responseJSON;
              for (let [key, product] of Object.entries(products)) {
                var image = product.image.replace("..", ".");
                var productHtml = `
        <tr id="product_${product.id}"
                      class="cart__row border-bottom line1 cart-flex border-top"
                    >
                      <td class="cart__image-wrapper cart-flex-item">
                        <a href="#"
                          ><img
                            class="cart__image"
                            src="${image}"
                            alt="${product.name}"
                        /></a>
                      </td>
                      <td class="cart__meta small--text-left cart-flex-item">
                        <div class="list-view-item__title">
                          <a href="#">${product.name} </a>
                        </div>

                        <div class="cart__meta-text">${product.description}</div>
                      </td>
                      <td class="cart__price-wrapper text-center cart-flex-item">
                        <span class="money">$${product.price}</span>
                      </td>
                      <td class="text-center small--hide">
                        <a
                          href="javascript:removeFromCart(${product.id})"
                          class="btn btn--secondary cart__remove"
                          title="Remove Item"
                          ><i class="icon icon anm anm-times-l"></i
                        ></a>
                      </td>
                    </tr>`;

                cartContainer.append(productHtml);
              }
            },
          });
        });
      </script>

      <script>
        var responsePopup = $("#responsePopup");
        function removeFromCart(productId) {
          $.ajax({
            url: "php/removeFromCart.php?id=" + productId,
            type: "GET",
            dataType: "text",
            success: function (response) {
              $("#product_" + productId).remove();
              responsePopup.children("p").text(response);
              responsePopup.removeClass("hide");
              setTimeout(function () {
                responsePopup.addClass("hide");
              }, 3000);
            },
          });
        }
      </script>
    </div>
  </body>

  <!-- belle/cart.html   11 Nov 2019 12:47:01 GMT -->
</html>
